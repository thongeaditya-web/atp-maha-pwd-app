<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="ATP App">
<meta name="application-name" content="ATP App">
<meta name="theme-color" content="#18150f">
<title>ATP's Estimate App</title>
<style>
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  :root{--bg:#f0ece5;--sf:#fff;--bd:#ddd6c8;--bd2:#bfb8aa;--tx:#18150f;--mu:#7a7064; --or:#b84f09;--ol:#f6ede2;--gr:#18602f;--rd:#9e2b2b;--rl:#fceaea; --bl:#1a4a76;--bll:#e5f0f8;--pu:#4e349a}
  body{background:var(--bg);color:var(--tx);font-family:system-ui,sans-serif;font-size:13px}
  nav{background:#18150f;color:#fff;padding:.5rem .9rem;display:flex;align-items:center; justify-content:space-between;position:sticky;top:0;z-index:200;box-shadow:0 2px 8px rgba(0,0,0,.4)}
  .nb h1{font-size:.86rem;font-weight:900}.nb h1 em{color:#f5a623;font-style:normal}
  .nb p{font-size:.48rem;color:#aaa}
  
  .tabs{position:sticky;top:48px;z-index:199;display:flex;background:#fff;border-bottom:2px solid #ddd;overflow-x:auto}
  .tab{padding:.8rem 1rem;font-size:.7rem;font-weight:700;cursor:pointer;color:var(--mu);white-space:nowrap;border-bottom:3px solid transparent}
  .tab.on{color:var(--or);border-bottom-color:var(--or)}

  .lay{display:grid;grid-template-columns:1fr 280px;min-height:calc(100vh - 50px)}
  .main{padding:1rem;overflow-y:auto}
  .side{padding:1rem;background:#faf7f3;border-left:1px solid var(--bd)}
  
  .panel{display:none}.panel.on{display:block}
  .sh{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;border-bottom:1px solid var(--bd);padding-bottom:5px}
  .sh h2{font-size:1rem;font-weight:800}

  /* Contact & Browse styles */
  .info-card{background:#fff;padding:1.5rem;border-radius:8px;border:1px solid var(--bd);margin-bottom:1rem}
  .info-card p{font-size:0.9rem;margin-bottom:0.5rem}

  /* Table & List */
  .rb{border:1px solid var(--bd);border-radius:5px;background:#fff;margin-top:10px}
  .ri{padding:.8rem;border-bottom:1px solid var(--bd);display:flex;justify-content:space-between;align-items:center}
  
  .btn{padding:.5rem 1rem;border-radius:4px;font-size:.7rem;font-weight:700;cursor:pointer;border:none;margin:2px}
  .bp{background:var(--or);color:#fff}.bg{background:var(--gr);color:#fff}.brd{background:var(--rd);color:#fff}

  @media(max-width:768px){.lay{grid-template-columns:1fr}.side{display:none}}
</style>
</head>
<body>

<nav>
  <div class="nb">
    <h1>ATP'S <em>ESTIMATE APP</em></h1>
    <p>Professional Construction Estimates</p>
  </div>
  <div id="userHeaderDiv">
    <span class="uname">Admin</span>
  </div>
</nav>

<div class="tabs">
  <div class="tab on" onclick="openTab('home')">Home / Main</div>
  <div class="tab" onclick="openTab('browse')">Browse</div>
  <div class="tab" onclick="openTab('contact')">Contact Us</div>
  <div class="tab" onclick="openTab('admin')">Admin Panel</div>
</div>

<div class="lay">
  <div class="main">
    
    <div id="home" class="panel on">
      <div class="sh"><h2>Create / Edit Estimate</h2></div>
      
      <div class="info-card">
        <h4 style="margin-bottom:10px">Stamp & Header Settings</h4>
        <input type="text" id="stampInput" placeholder="Enter App Name (e.g. ATP's App)" style="padding:5px; width:200px">
        <button class="btn bg" onclick="updateStamp()">Update Stamp</button>
      </div>

      <div class="sh"><h2>Your Saved Estimates</h2></div>
      <div id="mainPageSavedList" class="rb">
         <div class="ri">
           <span>Project: Sample Villa</span>
           <div>
             <button class="btn bp" onclick="printCount()">Print</button>
             <button class="btn brd" onclick="deleteEst(this)">Delete</button>
           </div>
         </div>
      </div>
    </div>

    <div id="browse" class="panel">
      <div class="sh"><h2>Browse Records</h2></div>
      <div class="info-card">
        <p>येथे तुम्ही तुमचे सर्व जुने एस्टिमेट रेकॉर्ड शोधू शकता.</p>
        <input type="text" placeholder="Search by name..." style="padding:8px; width:100%; border:1px solid #ccc; border-radius:4px">
        <div class="rb" style="margin-top:15px">
          <p style="padding:20px; text-align:center; color:#888">No records found to browse.</p>
        </div>
      </div>
    </div>

    <div id="contact" class="panel">
      <div class="sh"><h2>Contact Us</h2></div>
      <div class="info-card">
        <p><strong>Support Email:</strong> contact@atpestimate.com</p>
        <p><strong>Mobile No:</strong> +91 9876543210</p>
        <p><strong>Address:</strong> ATP Technical Hub, Maharashtra, India.</p>
        <hr style="margin:15px 0">
        <p style="font-size:0.8rem; color:var(--mu)">तुम्हाला काही तांत्रिक अडचण असल्यास वरील नंबरवर संपर्क साधावा.</p>
      </div>
    </div>

    <div id="admin" class="panel">
      <div class="sh"><h2>Admin Dashboard</h2></div>
      <div class="astats">
         <div class="info-card" style="background:#e5f0f8">
           <p>Revenue Logs</p>
           <div class="ri">
             <span>Payment ID: #4492</span>
             <span>₹ 500.00</span>
             <button class="btn brd" onclick="handleDeleteRevenue(this)">Delete Record</button>
           </div>
         </div>
      </div>
      <p>Print/Download Count: <strong id="pCount">0</strong></p>
    </div>

  </div>

  <div class="side">
    <div class="sh"><h2>Summary</h2></div>
    <div class="sc">
      <div class="sr"><span>Total Projects:</span> <span class="sv">01</span></div>
      <div class="sr grand"><span>Grand Total:</span> <span class="sv">₹ 0.00</span></div>
    </div>
  </div>
</div>

<script>
  // Tab Switching Logic
  function openTab(tabId) {
    document.querySelectorAll('.panel').forEach(p => p.classList.remove('on'));
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('on'));
    document.getElementById(tabId).classList.add('on');
    event.currentTarget.classList.add('on');
  }

  // Stamp Update Logic
  function updateStamp() {
    let val = document.getElementById('stampInput').value;
    if(val) {
      alert("Stamp Updated to: " + val);
    } else {
      alert("कृपया काहीतरी नाव टाका.");
    }
  }

  // Print Counter Logic
  let count = 0;
  function printCount() {
    count++;
    document.getElementById('pCount').innerText = count;
    window.print();
  }

  // Delete Estimate from Main Page
  function deleteEst(btn) {
    if(confirm("तुम्हाला हे एस्टिमेट डिलीट करायचे आहे का?")) {
      btn.closest('.ri').remove();
    }
  }

  // Admin Revenue Delete Button Fix
  function handleDeleteRevenue(btn) {
    if(confirm("Admin: हा रेकॉर्ड कायमचा डिलीट करायचा का?")) {
      btn.closest('.ri').style.display = 'none';
      alert("Revenue रेकॉर्ड डिलीट झाला.");
    }
  }

  // Initial setup for the title/share link
  document.title = "ATP's Estimate App";
</script>

</body>
</html>
